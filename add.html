<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="/node_modules/jquery/dist/jquery.min.js"></script>
    <link rel="stylesheet" href="/node_modules/bootstrap/dist/css/bootstrap.min.css">

    <script src="/node_modules/art-template/lib/template-web.js"></script>
    <script src="/node_modules/axios/dist/axios.js"></script>

</head>
<body>
    <div class="container">

        <h1> 王者农药 <small>添加英雄</small> </h1>
        <form id="form">
            <!-- username  gender -->
        英雄名称: <input type="text" name="username" placeholder="请输入英雄名称"><br>
        性别: 男 <input type="radio" name="gender" value="男"> 
             女 <input type="radio" name="gender" value="女">
            <div>
                <input type="submit" value="添加" class="btn btn-success">
            </div>
        </form>

    </div>

    <script>
    
     $('#form').on('submit',function(e){
        e.preventDefault()
        // 获取表单值 :checkbox:checked 
        // console.log($(":radio:checked").val())
        // 发送ajax  1.{name:'zs',gender:'女'}  2.name=zs&gender=女
        axios.post('http://localhost:5000/api/addhero',$('form').serialize())
             .then(function(results){
                 if(results.status==200&&results.data.err_code==0){
                     location.href="/index.html"
                 }else{
                     alert('添加失败')
                 }
             })
         
     })
    
    
    </script>

</body>
</html>